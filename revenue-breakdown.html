<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>테크기업 분기별 매출 세그먼트 분석 2025</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0f1117;--card:#1a1d27;--card2:#222639;--border:#2d3148;--text:#e0e0e8;--text2:#9498b0;--accent:#6366f1;--accent2:#818cf8;--green:#22c55e;--red:#ef4444;--yellow:#eab308;--orange:#f97316;--cyan:#06b6d4;--pink:#ec4899}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh}
.header{background:linear-gradient(135deg,#1e1b4b 0%,#312e81 50%,#1e1b4b 100%);padding:40px 24px 20px;text-align:center;border-bottom:2px solid var(--accent)}
.header h1{font-size:1.8em;font-weight:800;background:linear-gradient(135deg,#c7d2fe,#818cf8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:6px}
.header p{color:var(--text2);font-size:0.9em}
.header .badge{display:inline-block;background:var(--accent);color:#fff;padding:3px 12px;border-radius:16px;font-size:0.75em;margin-top:8px}
.wrap{max-width:1400px;margin:0 auto;padding:20px 16px 60px}
.tabs{display:flex;flex-wrap:wrap;gap:6px;margin:20px 0 16px;justify-content:center}
.tab{background:var(--card);border:2px solid var(--border);border-radius:10px;padding:10px 16px;text-align:center;cursor:pointer;transition:all .2s;min-width:100px}
.tab:hover{border-color:var(--accent);transform:translateY(-2px)}
.tab.active{border-color:var(--accent);background:rgba(99,102,241,0.15)}
.tab .ticker{font-size:1em;font-weight:700;color:var(--accent2)}
.tab .cname{font-size:0.65em;color:var(--text2);margin-top:2px}
.content{display:none}
.content.active{display:block;animation:fadeUp .4s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}
.company-header{display:flex;align-items:center;gap:16px;margin-bottom:20px;flex-wrap:wrap}
.company-header h2{font-size:1.5em;color:var(--accent2)}
.company-header .meta{font-size:0.85em;color:var(--text2)}
.table-wrap{overflow-x:auto;margin-bottom:24px}
table{width:100%;border-collapse:collapse;background:var(--card);border-radius:12px;overflow:hidden;min-width:600px}
thead th{background:var(--card2);padding:12px 14px;text-align:right;font-size:0.8em;color:var(--text2);text-transform:uppercase;letter-spacing:0.5px;white-space:nowrap;border-bottom:2px solid var(--border)}
thead th:first-child{text-align:left}
tbody td{padding:11px 14px;text-align:right;font-size:0.9em;border-bottom:1px solid var(--border);white-space:nowrap}
tbody td:first-child{text-align:left;font-weight:600;color:var(--cyan)}
tbody tr:hover{background:rgba(99,102,241,0.06)}
tbody tr.total-row{background:rgba(99,102,241,0.1);font-weight:700}
tbody tr.total-row td{border-top:2px solid var(--accent);color:var(--accent2)}
tbody tr.total-row td:first-child{color:var(--accent2)}
.yoy{font-size:0.72em;display:block;margin-top:2px}
.yoy.up{color:var(--green)}
.yoy.down{color:var(--red)}
.chart-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:30px}
.chart-box{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px}
.chart-box h3{font-size:0.85em;color:var(--text2);margin-bottom:12px;text-align:center}
.chart-box canvas{max-height:300px}
.note{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:14px 18px;font-size:0.8em;color:var(--text2);margin-bottom:20px;line-height:1.7}
.note strong{color:var(--cyan)}
.sources{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:16px 20px;margin-top:30px}
.sources h3{font-size:0.9em;color:var(--accent2);margin-bottom:10px}
.sources a{color:var(--cyan);text-decoration:none;font-size:0.78em;display:block;margin-bottom:4px}
.sources a:hover{text-decoration:underline}
@media(max-width:768px){
.chart-grid{grid-template-columns:1fr}
.tabs{gap:4px}
.tab{padding:8px 10px;min-width:80px}
.tab .ticker{font-size:0.85em}
}
</style>
</head>
<body>
<div class="header">
<h1>Tech Giants Quarterly Revenue Breakdown</h1>
<p>8대 테크기업 사업부문별 분기 매출 분석 (최근 4분기)</p>
<div class="badge">2025 Earnings Data</div>
<div style="margin-top:12px;display:flex;gap:8px;justify-content:center;flex-wrap:wrap">
<a href="index.html" style="color:#818cf8;font-size:0.82em;text-decoration:none;background:rgba(99,102,241,0.15);padding:5px 14px;border-radius:8px;border:1px solid rgba(99,102,241,0.3)">5단계 분석기</a>
<a href="quarterly-financials.html" style="color:#06b6d4;font-size:0.82em;text-decoration:none;background:rgba(6,182,212,0.1);padding:5px 14px;border-radius:8px;border:1px solid rgba(6,182,212,0.3)">분기별 재무 데이터</a>
</div>
</div>
<div class="wrap">
<div class="tabs" id="tabs"></div>
<div id="contents"></div>
<div class="sources">
<h3>Data Sources</h3>
<a href="https://abc.xyz/investor/" target="_blank">Alphabet Investor Relations / SEC Filings</a>
<a href="https://www.apple.com/newsroom/" target="_blank">Apple Newsroom / Quarterly Earnings</a>
<a href="https://www.microsoft.com/en-us/investor/" target="_blank">Microsoft Investor Relations</a>
<a href="https://ir.aboutamazon.com/" target="_blank">Amazon Investor Relations / SEC Filings</a>
<a href="https://investor.nvidia.com/" target="_blank">NVIDIA Investor Relations</a>
<a href="https://investor.atmeta.com/" target="_blank">Meta Platforms Investor Relations</a>
<a href="https://ir.tesla.com/" target="_blank">Tesla Investor Relations</a>
<a href="https://ir.amd.com/" target="_blank">AMD Investor Relations</a>
<a href="https://www.macrotrends.net/" target="_blank">MacroTrends</a>
<a href="https://stockanalysis.com/" target="_blank">Stock Analysis</a>
</div>
</div>
<script>
const DATA = {
  GOOGL: {
    name: 'Alphabet (Google)',
    period: 'Q1-Q4 2025 (Calendar Year)',
    quarters: ['Q1 2025','Q2 2025','Q3 2025','Q4 2025'],
    segments: [
      {name:'Google Search & Other', values:[50702,54200,56600,63070], color:'#6366f1'},
      {name:'YouTube Ads', values:[8926,9800,10300,11380], color:'#ec4899'},
      {name:'Google Cloud', values:[12262,13628,15168,17660], color:'#06b6d4'},
      {name:'Google Network', values:[7256,7440,7380,7830], color:'#f97316'},
      {name:'Subscriptions/Platforms/Devices', values:[10404,11200,12880,13580], color:'#22c55e'},
      {name:'Other Bets', values:[450,373,344,370], color:'#9498b0'}
    ]
  },
  AAPL: {
    name: 'Apple',
    period: 'Q2 FY2025 ~ Q1 FY2026 (Mar 2025 ~ Dec 2025)',
    quarters: ['Q2 FY25\n(Mar 25)','Q3 FY25\n(Jun 25)','Q4 FY25\n(Sep 25)','Q1 FY26\n(Dec 25)'],
    segments: [
      {name:'iPhone', values:[46838,44580,49000,85300], color:'#6366f1'},
      {name:'Mac', values:[7952,8050,8700,8400], color:'#06b6d4'},
      {name:'iPad', values:[6397,6580,6990,8600], color:'#22c55e'},
      {name:'Wearables/Home/Accessories', values:[7519,7400,9000,11500], color:'#f97316'},
      {name:'Services', values:[26650,27400,28800,30000], color:'#ec4899'}
    ]
  },
  MSFT: {
    name: 'Microsoft',
    period: 'Q1-Q4 FY2025 (Sep 2024 ~ Jun 2025)',
    quarters: ['Q1 FY25\n(Sep 24)','Q2 FY25\n(Dec 24)','Q3 FY25\n(Mar 25)','Q4 FY25\n(Jun 25)'],
    segments: [
      {name:'Productivity & Business Processes', values:[28317,29443,29870,33100], color:'#6366f1'},
      {name:'Intelligent Cloud', values:[24092,25540,26750,29900], color:'#06b6d4'},
      {name:'More Personal Computing', values:[13176,14668,13400,13500], color:'#f97316'}
    ]
  },
  AMZN: {
    name: 'Amazon',
    period: 'Q1-Q4 2025 (Calendar Year)',
    quarters: ['Q1 2025','Q2 2025','Q3 2025','Q4 2025'],
    segments: [
      {name:'North America', values:[92887,100100,106300,127100], color:'#6366f1'},
      {name:'International', values:[33468,36800,40900,50700], color:'#f97316'},
      {name:'AWS', values:[29267,30878,32976,35600], color:'#06b6d4'}
    ]
  },
  NVDA: {
    name: 'NVIDIA',
    period: 'Q1 FY25 ~ Q4 FY25 then Q1-Q3 FY26',
    quarterNote: 'Last 4 reported quarters: Q4 FY25, Q1-Q3 FY26',
    quarters: ['Q4 FY25\n(Jan 25)','Q1 FY26\n(Apr 25)','Q2 FY26\n(Jul 25)','Q3 FY26\n(Oct 25)'],
    segments: [
      {name:'Data Center', values:[35600,39100,41100,51200], color:'#6366f1'},
      {name:'Gaming', values:[2500,3800,4300,4300], color:'#22c55e'},
      {name:'Professional Visualization', values:[511,509,601,760], color:'#f97316'},
      {name:'Automotive', values:[570,567,586,592], color:'#06b6d4'}
    ]
  },
  META: {
    name: 'Meta Platforms',
    period: 'Q1-Q4 2025 (Calendar Year)',
    quarters: ['Q1 2025','Q2 2025','Q3 2025','Q4 2025'],
    segments: [
      {name:'Family of Apps (Advertising)', values:[41898,47148,50751,58938], color:'#6366f1'},
      {name:'Reality Labs', values:[412,370,470,955], color:'#ec4899'}
    ]
  },
  TSLA: {
    name: 'Tesla',
    period: 'Q1-Q4 2025 (Calendar Year)',
    quarters: ['Q1 2025','Q2 2025','Q3 2025','Q4 2025'],
    segments: [
      {name:'Automotive Revenue', values:[13967,16661,21205,17693], color:'#6366f1'},
      {name:'Energy Generation & Storage', values:[2730,2789,3415,3837], color:'#22c55e'},
      {name:'Services & Other', values:[2638,3046,3475,3371], color:'#f97316'}
    ]
  },
  AMD: {
    name: 'AMD',
    period: 'Q1-Q4 2025 (Calendar Year)',
    quarters: ['Q1 2025','Q2 2025','Q3 2025','Q4 2025'],
    segments: [
      {name:'Data Center', values:[3674,3200,4300,5400], color:'#6366f1'},
      {name:'Client', values:[2300,2500,2800,3100], color:'#06b6d4'},
      {name:'Gaming', values:[600,1100,1300,843], color:'#22c55e'},
      {name:'Embedded', values:[823,824,857,950], color:'#f97316'}
    ]
  }
};

const fmt = v => {
  if(v >= 100000) return '$' + (v/1000).toFixed(1) + 'B';
  if(v >= 10000) return '$' + (v/1000).toFixed(1) + 'B';
  if(v >= 1000) return '$' + (v/1000).toFixed(2) + 'B';
  return '$' + v + 'M';
};

const fmtM = v => '$' + v.toLocaleString() + 'M';

function buildTabs(){
  const c = document.getElementById('tabs');
  Object.keys(DATA).forEach((k,i)=>{
    const d = document.createElement('div');
    d.className = 'tab' + (i===0?' active':'');
    d.innerHTML = `<div class="ticker">${k}</div><div class="cname">${DATA[k].name.split('(')[0].trim()}</div>`;
    d.onclick = () => switchTab(k);
    c.appendChild(d);
  });
}

function switchTab(ticker){
  document.querySelectorAll('.tab').forEach((t,i)=>{
    t.className = 'tab' + (Object.keys(DATA)[i]===ticker?' active':'');
  });
  document.querySelectorAll('.content').forEach(c => c.className='content');
  const el = document.getElementById('content-'+ticker);
  if(el) el.className = 'content active';
  // Re-render charts
  renderCharts(ticker);
}

function buildContents(){
  const wrap = document.getElementById('contents');
  Object.keys(DATA).forEach((ticker,idx)=>{
    const d = DATA[ticker];
    const div = document.createElement('div');
    div.id = 'content-' + ticker;
    div.className = 'content' + (idx===0?' active':'');

    const totals = d.quarters.map((_,qi) => d.segments.reduce((s,seg)=>s+seg.values[qi],0));

    let html = `
      <div class="company-header">
        <h2>${ticker} - ${d.name}</h2>
        <div class="meta">${d.period}</div>
      </div>
      <div class="chart-grid">
        <div class="chart-box"><h3>분기별 매출 추이 (Stacked Bar)</h3><canvas id="chart-bar-${ticker}"></canvas></div>
        <div class="chart-box"><h3>최근 분기 매출 비중 (Pie)</h3><canvas id="chart-pie-${ticker}"></canvas></div>
      </div>
      <div class="table-wrap"><table>
        <thead><tr><th>Segment</th>`;

    d.quarters.forEach(q => html += `<th>${q.replace('\n','<br>')}</th>`);
    html += `<th>FY Total</th><th>% of Total</th></tr></thead><tbody>`;

    d.segments.forEach(seg => {
      const total = seg.values.reduce((a,b)=>a+b,0);
      const pct = ((total / totals.reduce((a,b)=>a+b,0))*100).toFixed(1);
      html += `<tr><td>${seg.name}</td>`;
      seg.values.forEach((v,qi) => {
        const qTotal = totals[qi];
        const segPct = ((v/qTotal)*100).toFixed(1);
        html += `<td>${fmtM(v)}<span class="yoy" style="color:var(--text2)">${segPct}%</span></td>`;
      });
      html += `<td>${fmtM(total)}</td><td>${pct}%</td></tr>`;
    });

    html += `<tr class="total-row"><td>Total Revenue</td>`;
    totals.forEach((t,i) => {
      let qoq = '';
      if(i>0){
        const change = ((t - totals[i-1])/totals[i-1]*100).toFixed(1);
        const cls = change>=0?'up':'down';
        qoq = `<span class="yoy ${cls}">${change>=0?'+':''}${change}% QoQ</span>`;
      }
      html += `<td>${fmtM(t)}${qoq}</td>`;
    });
    const fyTotal = totals.reduce((a,b)=>a+b,0);
    html += `<td>${fmtM(fyTotal)}</td><td>100%</td></tr>`;
    html += `</tbody></table></div>`;

    // Segment insights
    html += `<div class="note">`;
    const lastQ = d.quarters.length - 1;
    d.segments.forEach(seg => {
      const growth = ((seg.values[lastQ] - seg.values[0])/seg.values[0]*100).toFixed(1);
      const dir = growth >= 0 ? 'up' : 'down';
      html += `<strong>${seg.name}</strong>: ${fmtM(seg.values[0])} -> ${fmtM(seg.values[lastQ])} (<span class="yoy ${dir}" style="display:inline">${growth>=0?'+':''}${growth}%</span> over 4Q) &nbsp;|&nbsp; `;
    });
    html += `</div>`;

    div.innerHTML = html;
    wrap.appendChild(div);
  });
}

const chartInstances = {};

function renderCharts(ticker){
  const d = DATA[ticker];
  const labels = d.quarters.map(q=>q.replace('\n',' '));

  // Destroy old
  if(chartInstances[ticker+'bar']) chartInstances[ticker+'bar'].destroy();
  if(chartInstances[ticker+'pie']) chartInstances[ticker+'pie'].destroy();

  const barCtx = document.getElementById('chart-bar-'+ticker);
  if(!barCtx) return;

  chartInstances[ticker+'bar'] = new Chart(barCtx, {
    type:'bar',
    data:{
      labels,
      datasets: d.segments.map(seg=>({
        label: seg.name,
        data: seg.values,
        backgroundColor: seg.color + 'cc',
        borderColor: seg.color,
        borderWidth:1
      }))
    },
    options:{
      responsive:true,
      plugins:{
        legend:{position:'bottom',labels:{color:'#9498b0',font:{size:10},boxWidth:12}},
        tooltip:{callbacks:{label:ctx=>`${ctx.dataset.label}: ${fmtM(ctx.raw)}`}}
      },
      scales:{
        x:{stacked:true,ticks:{color:'#9498b0',font:{size:10}},grid:{color:'#2d314833'}},
        y:{stacked:true,ticks:{color:'#9498b0',font:{size:10},callback:v=>fmt(v)},grid:{color:'#2d314833'}}
      }
    }
  });

  const lastQ = d.segments.map(s=>s.values[d.quarters.length-1]);
  const pieCtx = document.getElementById('chart-pie-'+ticker);
  chartInstances[ticker+'pie'] = new Chart(pieCtx, {
    type:'doughnut',
    data:{
      labels:d.segments.map(s=>s.name),
      datasets:[{
        data:lastQ,
        backgroundColor:d.segments.map(s=>s.color+'cc'),
        borderColor:d.segments.map(s=>s.color),
        borderWidth:2
      }]
    },
    options:{
      responsive:true,
      plugins:{
        legend:{position:'bottom',labels:{color:'#9498b0',font:{size:10},boxWidth:12}},
        tooltip:{callbacks:{label:ctx=>{
          const total = ctx.dataset.data.reduce((a,b)=>a+b,0);
          const pct = ((ctx.raw/total)*100).toFixed(1);
          return `${ctx.label}: ${fmtM(ctx.raw)} (${pct}%)`;
        }}}
      }
    }
  });
}

buildTabs();
buildContents();
renderCharts('GOOGL');
</script>
</body>
</html>
